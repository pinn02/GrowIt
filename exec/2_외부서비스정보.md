# GrowIT 프로젝트 외부 서비스 정보

## 1. 개요

GrowIT 프로젝트에서 사용하는 외부 서비스들의 가입 및 설정 정보를 정리한 문서입니다.
각 서비스별로 필요한 키 발급, 설정 방법, 주의사항을 포함합니다.

## 2. 소셜 로그인 - Kakao OAuth 2.0

### 2.1 서비스 개요
- **서비스명**: Kakao Developers (카카오 개발자 센터)
- **용도**: 사용자 소셜 로그인 인증
- **공식 사이트**: https://developers.kakao.com/
- **비용**: 무료 (기본 사용량 내)

### 2.2 가입 및 설정 방법

#### 2.2.1 카카오 개발자 계정 생성
1. https://developers.kakao.com/ 접속
2. 카카오 계정으로 로그인
3. 개발자 등록 진행

#### 2.2.2 애플리케이션 생성
1. **내 애플리케이션** > **애플리케이션 추가하기**
2. 앱 정보 입력:
   - **앱 이름**: GrowIT
   - **사업자명**: 개인 또는 팀명 (쌀과자)
   - **카테고리**: 게임

#### 2.2.3 주요 설정 정보

##### 앱 키 정보
```
REST API 키: 1a68b3db43fbe3b6ddf4e5cd33fe5ac7 (현재 하드코딩된 값)
JavaScript 키: (사용하지 않음)
Admin 키: (필요시 발급)
```

##### 플랫폼 설정
1. **플랫폼** > **Web 플랫폼 등록**
2. **사이트 도메인**:
   - 개발: `http://localhost:5173`
   - 운영: `https://your-domain.com`

##### Redirect URI 설정
1. **제품 설정** > **카카오 로그인** 활성화
2. **Redirect URI 설정**:
   ```
   개발환경: http://localhost:5173/login/oauth2/code/kakao
   운영환경: https://your-domain.com/login/oauth2/code/kakao
   ```

##### 동의항목 설정
1. **제품 설정** > **카카오 로그인** > **동의항목**
2. 필수 동의 항목:
   - **닉네임**: 필수 동의
   - **이메일**: 필수 동의 (사업자 인증 필요할 수 있음)

### 2.3 환경변수 설정

#### Frontend (.env)
```bash
VITE_KAKAO_REST_API_KEY=1a68b3db43fbe3b6ddf4e5cd33fe5ac7
```

#### Backend (.env.local)
```properties
KAKAO_CLIENT_ID=1a68b3db43fbe3b6ddf4e5cd33fe5ac7
KAKAO_CLIENT_SECRET=your_kakao_client_secret_if_needed
```

### 2.4 특이사항 및 주의사항
- **프론트엔드 직접 인증**: 백엔드를 거치지 않고 프론트엔드에서 직접 카카오 서버와 통신
- **HTTPS 필수**: 운영환경에서는 반드시 HTTPS 사용
- **도메인 제한**: 등록된 도메인에서만 OAuth 동작
- **사업자 인증**: 이메일 동의항목 사용 시 사업자 인증이 필요할 수 있음

## 3. 웹 분석 - Google Analytics 4 (GA4)

### 3.1 서비스 개요
- **서비스명**: Google Analytics 4
- **용도**: 웹사이트 트래픽 분석, 사용자 행동 추적
- **공식 사이트**: https://analytics.google.com/
- **비용**: 무료 (기본 사용량 내)

### 3.2 가입 및 설정 방법

#### 3.2.1 Google Analytics 계정 생성
1. https://analytics.google.com/ 접속
2. Google 계정으로 로그인
3. **측정 시작** 클릭

#### 3.2.2 속성 설정
1. **계정 이름**: GrowIT Analytics
2. **속성 이름**: GrowIT Web
3. **보고 시간대**: 대한민국 표준시 (GMT+09:00)
4. **통화**: 한국 원 (KRW)

#### 3.2.3 데이터 스트림 생성
1. **플랫폼**: 웹
2. **웹사이트 URL**:
   - 개발: `http://localhost:5173`
   - 운영: `https://your-domain.com`
3. **스트림 이름**: GrowIT Web Stream

### 3.3 환경변수 설정

#### Frontend (.env)
```bash
VITE_GA4_MEASUREMENT_ID=G-XXXXXXXXXX
VITE_GA4_ENABLED=true  # 운영환경에서만 true
```

### 3.4 추적 이벤트 목록

#### 3.4.1 인증 관련
- `login`: 카카오 로그인 성공
- `logout`: 로그아웃

#### 3.4.2 게임 관련
- `game_start`: 게임 시작 (난이도, CEO 타입)
- `game_action`: 게임 내 액션 (고용, 투자, 마케팅 등)
- `hiring_complete`: 직원 고용 완료

#### 3.4.3 UI 상호작용
- `modal_open`: 모달 창 열기
- `modal_close`: 모달 창 닫기
- `button_click`: 버튼 클릭

### 3.5 특이사항 및 주의사항
- **개발환경에서 비활성화**: 개발 중에는 GA4 추적 비활성화
- **개인정보 보호**: 사용자 식별 정보는 추적하지 않음
- **실시간 데이터**: 실시간 보고서로 즉시 확인 가능

## 4. 빅데이터 소스 - 공공 데이터 API

### 4.1 통계청 KOSIS (국가통계포털)

#### 4.1.1 서비스 개요
- **서비스명**: KOSIS 국가통계포털
- **용도**: 경제지표, 고용통계 등 경제 데이터 수집
- **공식 사이트**: https://kosis.kr/
- **비용**: 무료

#### 4.1.2 사용 데이터 목록
- **BSI (Business Survey Index)**: 기업경영판단지수
- **고용 통계**: 취업자 수, 실업률 등
- **경제 지표**: GDP, 물가지수 등
- **산업별 통계**: 제조업, 서비스업 지표

#### 4.1.3 API 활용 방법
```python
# KOSIS API 호출 예시
import requests

def fetch_kosis_data(stat_id, item_id, period):
    url = "https://kosis.kr/openapi/Param/statisticsParameterData.do"
    params = {
        'method': 'getList',
        'apiKey': 'your_api_key',  # 필요시 발급
        'format': 'json',
        'jsonVD': 'Y',
        'userStatsId': stat_id,
        'prdSe': 'M',  # 월별
        'startPrdDe': period,
        'endPrdDe': period,
        'orgId': '101',
        'tblId': item_id
    }
    response = requests.get(url, params=params)
    return response.json()
```

### 4.2 기상자료개방포털

#### 4.2.1 서비스 개요
- **서비스명**: 기상자료개방포털
- **용도**: 기상 데이터 (온도, 강수량 등)
- **공식 사이트**: https://data.kma.go.kr/
- **비용**: 무료 (일부 데이터)

#### 4.2.2 사용 데이터
- **일별 기상데이터**: 평균기온, 강수량
- **월별 기상통계**: 계절별 기상 패턴
- **지역별 기상정보**: 주요 도시별 데이터

#### 4.2.3 API 인증 정보
```python
# 기상청 API 키 (필요시 발급)
KMA_API_KEY = "your_kma_api_key"
```

## 5. 머신러닝 모델 서빙

### 5.1 ONNX Runtime

#### 5.1.1 서비스 개요
- **라이브러리**: Microsoft ONNX Runtime
- **용도**: Python에서 학습한 ML 모델을 Java 백엔드에서 추론
- **버전**: 1.18.0
- **라이선스**: MIT License

#### 5.1.2 모델 변환 과정
```python
# Python에서 scikit-learn 모델을 ONNX로 변환
from skl2onnx import convert_sklearn
from skl2onnx.common.data_types import FloatTensorType

# 모델 변환 예시
initial_type = [('float_input', FloatTensorType([None, feature_count]))]
onnx_model = convert_sklearn(sklearn_model, initial_types=initial_type)

# ONNX 파일 저장
with open("model.onnx", "wb") as f:
    f.write(onnx_model.SerializeToString())
```

#### 5.1.3 Java에서 모델 로드
```java
// Spring Boot에서 ONNX 모델 사용
@Service
public class MLService {
    private OrtEnvironment env;
    private OrtSession session;

    @PostConstruct
    public void loadModel() throws OrtException {
        env = OrtEnvironment.getEnvironment();
        session = env.createSession("models/hiring_model.onnx");
    }
}
```

## 6. 보안 및 인증

### 6.1 JWT (JSON Web Token)

#### 6.1.1 라이브러리 정보
- **라이브러리**: JJWT (Java JWT)
- **버전**: 0.11.5
- **용도**: 사용자 인증 토큰 생성 및 검증

#### 6.1.2 토큰 설정
```properties
# JWT 설정 (.env.local)
JWT_SECRET=your_256bit_secret_key_for_jwt_signing_minimum_32_characters
JWT_EXPIRATION_TIME=900000  # 15분 (밀리초)
```

## 7. 서비스 연동 체크리스트

### 7.1 배포 전 확인사항

#### 카카오 OAuth
- [ ] 운영 도메인 등록
- [ ] Redirect URI 업데이트
- [ ] HTTPS 인증서 설정
- [ ] Client Secret 보안 관리

#### Google Analytics
- [ ] 운영 도메인용 GA4 속성 생성
- [ ] 측정 ID 환경변수 업데이트
- [ ] 개인정보 처리방침 업데이트

#### 공공 데이터 API
- [ ] API 키 발급 (필요시)
- [ ] 일일 호출 한도 확인
- [ ] 데이터 갱신 주기 확인

#### 보안
- [ ] 모든 API 키 환경변수 처리
- [ ] 비밀 키 안전한 저장소 이관
- [ ] CORS 설정 업데이트

### 7.2 모니터링 및 로그

#### 외부 서비스 상태 모니터링
- Kakao API 응답 시간 및 성공률
- GA4 이벤트 전송 성공률
- 공공 데이터 API 가용성

#### 에러 로그 추적
- OAuth 인증 실패
- API 호출 오류
- 모델 추론 실패

---

**문의사항**: 개발팀 (팀명: 쌀과자)
**업데이트**: 2025-09-28

**중요 보안 공지**:
- 모든 API 키와 비밀 키는 환경변수로 관리하며, 코드에 하드코딩하지 않습니다.
- 운영환경 배포 시 반드시 새로운 키를 발급받아 사용하세요.
- 개발용 키는 운영환경에서 사용하지 마세요.