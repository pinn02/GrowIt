# GrowIT 프로젝트 빌드 및 배포 매뉴얼

## 1. 개발 환경 및 버전 정보

### 1.1 JVM 및 Runtime 환경
- **JDK**: Java 21 (Language Level 21)
- **Build Tool**: Gradle 8.x
- **Spring Boot**: 3.5.5

### 1.2 웹서버 및 WAS 정보
- **웹서버**: Vite Development Server (개발환경)
- **WAS**: Spring Boot 내장 Tomcat
- **포트**:
  - Frontend: 5173 (개발환경)
  - Backend: 8080

### 1.3 데이터베이스
- **DBMS**: MySQL 8.0+
- **Driver**: mysql-connector-j (latest)
- **포트**: 3306
- **Database**: growit

### 1.4 IDE 및 개발 도구
- **Frontend**: VS Code, IntelliJ IDEA
- **Backend**: IntelliJ IDEA, Eclipse
- **Data/AI**: Jupyter Notebook, PyCharm

## 2. 필수 설치 소프트웨어

### 2.1 시스템 요구사항
```bash
# Node.js (Frontend)
Node.js >= 18.0.0
npm >= 9.0.0

# Java (Backend)
JDK 21

# Python (Data/AI)
Python >= 3.8
pip >= 21.0

# Database
MySQL 8.0+
```

### 2.2 환경 변수 설정

#### Backend (.env.local)
```properties
# Database Configuration
DB_USERNAME=root
DB_PASSWORD=your_mysql_password

# Kakao OAuth2 Configuration
KAKAO_CLIENT_ID=your_kakao_client_id
KAKAO_CLIENT_SECRET=your_kakao_client_secret

# JWT Configuration
JWT_SECRET=your_jwt_secret_key_minimum_256bits

# Frontend URL (CORS)
FRONTEND_URL=http://localhost:5173
```

#### Frontend (.env)
```bash
# Kakao OAuth2
VITE_KAKAO_REST_API_KEY=your_kakao_rest_api_key

# Google Analytics 4
VITE_GA4_MEASUREMENT_ID=your_ga4_measurement_id
```

## 3. 소스코드 클론 및 빌드

### 3.1 GitLab 소스 클론
```bash
git clone https://lab.ssafy.com/s13-bigdata-dist-sub1/S13P21C201.git
cd S13P21C201
```

### 3.2 프론트엔드 빌드 및 실행

#### 의존성 설치
```bash
cd GrowIT-FE
npm install
```

#### 개발 서버 실행
```bash
npm run dev
# 실행 후 http://localhost:5173 접속 가능
```

#### 프로덕션 빌드
```bash
npm run build
# dist/ 폴더에 빌드 결과물 생성
```

#### 코드 검사
```bash
npm run lint
```

### 3.3 백엔드 빌드 및 실행

#### 프로젝트 빌드
```bash
cd GrowIT-BE
./gradlew clean build
# Windows: gradlew.bat clean build
```

#### 개발 서버 실행
```bash
./gradlew bootRun
# Windows: gradlew.bat bootRun
# 실행 후 http://localhost:8080 API 서버 가동
```

#### JAR 파일 생성 및 실행
```bash
# JAR 파일 생성
./gradlew bootJar

# JAR 파일 실행
java -jar build/libs/GrowIT-BE-0.0.1-SNAPSHOT.jar
```

### 3.4 데이터베이스 설정

#### MySQL 데이터베이스 생성
```sql
CREATE DATABASE growit CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'growit_user'@'localhost' IDENTIFIED BY 'your_password';
GRANT ALL PRIVILEGES ON growit.* TO 'growit_user'@'localhost';
FLUSH PRIVILEGES;
```

#### 테이블 자동 생성
- Spring Boot 애플리케이션 실행 시 JPA가 자동으로 테이블 생성 (ddl-auto: update)

## 4. 배포 시 특이사항

### 4.1 환경 분리
- **개발환경**: `spring.profiles.active=local`
- **운영환경**: `spring.profiles.active=prod`

### 4.2 CORS 설정
```java
// 프론트엔드 도메인 허용 필요
@CrossOrigin(origins = {"http://localhost:5173", "https://your-domain.com"})
```

### 4.3 정적 파일 서빙
- 프론트엔드 빌드 파일(dist/)을 웹서버(Nginx, Apache)로 서빙 권장
- 백엔드 API는 별도 도메인 또는 서브패스로 구성

### 4.4 SSL/TLS 설정
- 운영환경에서는 HTTPS 필수 (Kakao OAuth2 요구사항)
- 인증서 설정 후 redirect-uri 업데이트 필요

### 4.5 데이터베이스 연결
- 운영환경에서는 Connection Pool 설정 최적화 필요
- 백업 및 복원 전략 수립

## 5. DB 접속 정보 및 주요 설정 파일

### 5.1 데이터베이스 접속 정보
- **Host**: localhost (개발) / your-db-host (운영)
- **Port**: 3306
- **Database**: growit
- **Username**: ${DB_USERNAME} (.env.local에서 설정)
- **Password**: ${DB_PASSWORD} (.env.local에서 설정)

### 5.2 주요 설정 파일 목록

#### Frontend
- `GrowIT-FE/package.json`: 의존성 및 스크립트 정의
- `GrowIT-FE/vite.config.ts`: Vite 빌드 설정
- `GrowIT-FE/tsconfig.json`: TypeScript 컴파일 설정
- `GrowIT-FE/.env`: 환경변수 설정

#### Backend
- `GrowIT-BE/build.gradle`: Gradle 빌드 설정 및 의존성
- `GrowIT-BE/src/main/resources/application.yml`: Spring Boot 설정
- `GrowIT-BE/.env.local`: 환경변수 (DB, OAuth2, JWT)
- `GrowIT-BE/src/main/java/com/ricesnack/GrowIT_BE/config/`: 보안 및 CORS 설정

#### Data/AI
- `GrowIT-DATA/`: Python 스크립트 및 데이터 파일
- 별도 requirements.txt 없음 (수동 의존성 관리)

### 5.3 보안 관련 설정
- JWT 토큰 만료시간: 15분 (900,000ms)
- Kakao OAuth2 Redirect URI: `http://localhost:8080/login/oauth2/code/kakao`
- 로깅 레벨: DEBUG (개발), INFO (운영)

## 6. 트러블슈팅

### 6.1 일반적인 문제

#### Frontend 빌드 실패
```bash
# Node.js 버전 확인
node --version
npm --version

# 캐시 클리어 후 재설치
npm cache clean --force
rm -rf node_modules package-lock.json
npm install
```

#### Backend 빌드 실패
```bash
# Java 버전 확인
java -version

# Gradle 캐시 클리어
./gradlew clean --refresh-dependencies
```

#### 데이터베이스 연결 실패
- MySQL 서비스 실행 상태 확인
- 방화벽 포트 3306 개방 확인
- 사용자 권한 및 비밀번호 확인

### 6.2 성능 최적화
- Frontend: Vite 빌드 최적화, 코드 스플리팅
- Backend: Connection Pool 설정, JVM 힙 메모리 조정
- Database: 인덱스 설정, 쿼리 최적화

---

**문의사항**: 개발팀 (팀명: 쌀과자)
**업데이트**: 2025-09-28